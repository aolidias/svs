(function(){function a(c,b,d){if(c&&b){if(c.tz){c=c.tz(b)}else{d.warn("angular-moment: timezone specified but moment.tz() is undefined. Did you forget to include moment-timezone.js?")}}return c}angular.module("angularMoment",[]).constant("angularMomentConfig",{timezone:""}).constant("amTimeAgoConfig",{withoutSuffix:false}).directive("amTimeAgo",["$window","amTimeAgoConfig",function(c,b){return function(m,g,j){var i=null;var l;var d;var e=b.withoutSuffix;function k(){if(i){c.clearTimeout(i);i=null}}function h(o){g.text(o.fromNow(e));var n=c.moment().diff(o,"minute");var p=3600;if(n<1){p=1}else{if(n<60){p=30}else{if(n<180){p=300}}}i=c.setTimeout(function(){h(o)},p*1000)}function f(){k();h(c.moment(l,d))}m.$watch(j.amTimeAgo,function(n){if((typeof n==="undefined")||(n===null)||(n==="")){k();if(l){g.text("");l=null}return}if(angular.isNumber(n)){n=new Date(n)}l=n;f()});if(angular.isDefined(j.amWithoutSuffix)){m.$watch(j.amWithoutSuffix,function(n){if(typeof n==="boolean"){e=n;f()}else{e=b.withoutSuffix}})}j.$observe("amFormat",function(n){d=n;if(l){f()}});m.$on("$destroy",function(){k()});m.$on("amMoment:languageChange",function(){f()})}}]).factory("amMoment",["$window","$rootScope",function(c,b){return{changeLanguage:function(e){var d=c.moment.lang(e);if(angular.isDefined(e)){b.$broadcast("amMoment:languageChange")}return d}}}]).filter("amCalendar",["$window","$log","angularMomentConfig",function(d,c,b){return function(e){if(typeof e==="undefined"||e===null){return""}if(!isNaN(parseFloat(e))&&isFinite(e)){e=new Date(parseInt(e,10))}var f=d.moment(e);if(!f.isValid()){return""}return a(f,b.timezone,c).calendar()}}]).filter("amDateFormat",["$window","$log","angularMomentConfig",function(d,c,b){return function(e,g){if(typeof e==="undefined"||e===null){return""}if(!isNaN(parseFloat(e))&&isFinite(e)){e=new Date(parseInt(e,10))}var f=d.moment(e);if(!f.isValid()){return""}return a(f,b.timezone,c).format(g)}}]).filter("amDurationFormat",["$window",function(b){return function(c,e,d){if(typeof c==="undefined"||c===null){return""}return b.moment.duration(c,e).humanize(d)}}])})();